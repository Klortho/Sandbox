<!DOCTYPE html>
<html>
  <head>
    <script src="https://d3js.org/d3.v3.min.js"></script>
  </head>
  <body>
    <h1>SVG bar chart</h1>

    <div id='chart'>
    </div>

    <script>

      var data = [5, 9, 4, 3, 1, 9, 1.5];
      var width = 800;
      var height = 400;
      var max_value = d3.max(data);
      var bar_height = height / data.length;

      var chart = d3.select('#chart').append('svg')
          .attr({
              'width': width,
              'height': height,
          })
          .style('border', '1px solid green');


      chart.selectAll('foo').data(data).enter()
        .append('rect')
          .attr({
            'x': 0,
            'y': function(d, i) {
              return bar_height * i;
            },
            'width': function(d) {
              return d * width / max_value;
            },
            'height': bar_height,
            'fill': '#dff',
            'stroke': '#444',
          });

    </script>


  </body>
</html>
